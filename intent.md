# JotDown - Intent Document

## Problem Statement

Modern life is cluttered with information overload, constant distractions, and the overwhelming fear of the unknown. People struggle with:
- **Mental Clutter**: Thoughts, worries, and ideas scattered without organization
- **Lack of Clarity**: Difficulty processing emotions, decisions, and life events
- **Decision Paralysis**: Too many choices and tools leading to cognitive overload
- **Lost Progress**: Inability to track personal growth and reflect on past experiences
- **Stress and Anxiety**: The fear of the unknown without a structured way to process it

## Solution

JotDown is a minimalist journaling webapp designed to help users declutter their minds, gain clarity, and make progress in life. By providing a distraction-free writing environment with carefully curated minimal tools, users can focus on the act of journaling itself rather than getting lost in formatting options.

### Core Philosophy
- **Minimalism First**: Reduce cognitive load by limiting choices
- **Nature-Inspired**: Calming scenic backgrounds to create a peaceful writing environment
- **Progress Tracking**: Date-based organization to see growth over time
- **Future Intelligence**: AI-powered insights (post-MVP) to help users understand patterns and get actionable advice

## Features

### MVP Features

1. **Minimalist Rich Text Editor**
   - Essential formatting only:
     - 4 carefully chosen font colors (for emphasis, not distraction)
     - Text highlighting (limited palette)
     - Handful of curated fonts (2-3 options max)
     - Bold and Italics
     - Clean, distraction-free interface
   - Auto-save functionality
   - Word count indicator

2. **Beautiful Nature Backgrounds**
   - Scenic backgrounds from nature (mountains, forests, oceans, sunsets)
   - Subtle, non-distracting visuals
   - Option to change background (limited selection to avoid decision fatigue)
   - Dark/light mode support

3. **Date-Based Journal Organization**
   - Automatic date tagging for each journal entry
   - Calendar view to navigate entries
   - Chronological list view
   - Search functionality (basic - by date and keywords)
   - User-friendly, uncluttered navigation

4. **User Authentication**
   - Secure sign-up and login
   - Session management
   - Private journals (each user's data is isolated)

5. **Entry Management**
   - Create new journal entries
   - Edit existing entries
   - Delete entries (with confirmation)
   - View entry history

### Future Features (Post-MVP)

1. **AI Chat Assistant**
   - Summarize journal entries
   - Identify patterns and themes
   - Provide actionable insights
   - Answer questions about past entries
   - Mood tracking and analysis

2. **Export Functionality**
   - Export journals as PDF
   - Export as markdown/text
   - Backup and restore

3. **Tags and Categories**
   - Organize entries by custom tags
   - Filter by categories

4. **Reminders and Prompts**
   - Daily journaling reminders
   - Thought-provoking prompts
   - Gratitude prompts

## Tech Stack

### Frontend
- **Framework**: Next.js 14+ (App Router) - for SSR, routing, and optimal performance
- **UI Library**: React 18+
- **Styling**: Tailwind CSS - for rapid, responsive design
- **Rich Text Editor**: Tiptap or Slate.js - lightweight, customizable editor
- **Icons**: Lucide React or Heroicons
- **Date Handling**: date-fns
- **State Management**: React Context API / Zustand (if needed)

### Backend
- **Backend as a Service**: Supabase
  - Authentication (Supabase Auth)
  - Database (PostgreSQL)
  - Real-time subscriptions (for future features)
  - Storage (for future image uploads)

### Deployment
- **Frontend**: Vercel
- **Database**: Supabase (hosted PostgreSQL)
- **Environment Variables**: Vercel environment variables for Supabase keys

### Development Tools
- **Language**: TypeScript
- **Package Manager**: npm or pnpm
- **Linting**: ESLint
- **Formatting**: Prettier
- **Version Control**: Git

## Database Schema

### Tables

#### 1. `users` (Supabase Auth - managed automatically)
- `id` (UUID, Primary Key) - Auto-generated by Supabase
- `email` (String, Unique)
- `created_at` (Timestamp)
- `updated_at` (Timestamp)

#### 2. `user_profiles` (Custom table)
- `id` (UUID, Primary Key)
- `user_id` (UUID, Foreign Key → auth.users.id, Unique)
- `username` (String, Optional)
- `preferred_background` (String, Default: 'default')
- `theme` (String, Default: 'light') - 'light' or 'dark'
- `created_at` (Timestamp)
- `updated_at` (Timestamp)

#### 3. `journal_entries`
- `id` (UUID, Primary Key)
- `user_id` (UUID, Foreign Key → auth.users.id)
- `title` (String, Optional) - Auto-generated from date or user-defined
- `content` (Text) - Rich text content (JSON or HTML)
- `content_plain` (Text) - Plain text version for search
- `entry_date` (Date) - The date the entry is for (not necessarily created_at)
- `word_count` (Integer, Default: 0)
- `created_at` (Timestamp)
- `updated_at` (Timestamp)
- `is_deleted` (Boolean, Default: false) - Soft delete

#### 4. `entry_metadata` (Optional - for future features)
- `id` (UUID, Primary Key)
- `entry_id` (UUID, Foreign Key → journal_entries.id)
- `mood` (String, Optional)
- `tags` (String Array, Optional)
- `created_at` (Timestamp)
- `updated_at` (Timestamp)

### Indexes
- `journal_entries.user_id` - For fast user queries
- `journal_entries.entry_date` - For date-based queries
- `journal_entries.created_at` - For chronological sorting
- `journal_entries.user_id + entry_date` - Composite index for unique date per user

### Row Level Security (RLS) Policies
- Users can only read/write their own journal entries
- Users can only read/update their own profile
- Public access disabled for all tables

## Routes/Pages

### Public Routes
- `/` - Landing page (marketing/homepage)
- `/login` - User login
- `/signup` - User registration
- `/forgot-password` - Password reset

### Protected Routes (Require Authentication)
- `/dashboard` - Main dashboard/calendar view
- `/journal` - Journal writing interface (main app)
- `/journal/[date]` - View/edit specific journal entry by date
- `/journal/new` - Create new journal entry
- `/entries` - List view of all entries
- `/settings` - User settings (background preference, theme, etc.)

### API Routes (Next.js API Routes)
- `/api/auth/callback` - Supabase auth callback
- `/api/entries` - CRUD operations for journal entries
  - `GET /api/entries` - Get all entries for user
  - `GET /api/entries/[id]` - Get specific entry
  - `POST /api/entries` - Create new entry
  - `PUT /api/entries/[id]` - Update entry
  - `DELETE /api/entries/[id]` - Soft delete entry
- `/api/profile` - User profile management
  - `GET /api/profile` - Get user profile
  - `PUT /api/profile` - Update user profile

## User Flow

1. **Onboarding**
   - User visits landing page
   - Signs up or logs in
   - Redirected to dashboard

2. **Journaling**
   - User clicks "New Entry" or selects a date
   - Opens journal editor with nature background
   - Writes with minimal formatting tools
   - Auto-saves periodically
   - Saves entry (linked to date)

3. **Reviewing**
   - User navigates calendar or list view
   - Selects past entry to view/edit
   - Can search entries

4. **Settings**
   - User can change background preference
   - Toggle dark/light mode
   - Update profile

## Success Metrics (Future)

- Daily Active Users (DAU)
- Journal entries created per user
- Average session duration
- User retention rate
- Word count per entry (engagement metric)

## Security Considerations

- All data encrypted in transit (HTTPS)
- Row Level Security (RLS) on all tables
- Secure authentication via Supabase Auth
- Input sanitization for rich text content
- Rate limiting on API routes
- Environment variables for sensitive keys

## Deployment Checklist

- [ ] Set up Supabase project
- [ ] Configure database schema and RLS policies
- [ ] Set up Vercel project
- [ ] Configure environment variables
- [ ] Set up custom domain (optional)
- [ ] Enable analytics (optional)
- [ ] Set up error tracking (optional)

---

**Project Name**: JotDown  
**Tagline**: "Declutter your mind, gain clarity, make progress"  
**Version**: MVP 1.0
